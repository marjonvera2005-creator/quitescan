{% extends 'base.html' %}

{% block title %}Register Student - QUITESCAN{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <!-- Header -->
    <div class="gradient-bg rounded-2xl p-8 text-white mb-8">
        <h1 class="text-4xl font-bold mb-2">Register New Student</h1>
        <p class="text-xl">Add a new student and generate their unique QR code</p>
    </div>

    <!-- Registration Form -->
    <div class="bg-white rounded-2xl shadow-lg p-8">
        <form method="post" class="space-y-6">
            {% csrf_token %}
            
            <div>
                <label for="{{ form.student_id.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    Student ID *
                </label>
                {{ form.student_id }}
                {% if form.student_id.errors %}
                    <p class="mt-1 text-sm text-red-600">{{ form.student_id.errors.0 }}</p>
                {% endif %}
            </div>

            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <label for="{{ form.first_name.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        First Name *
                    </label>
                    {{ form.first_name }}
                    {% if form.first_name.errors %}
                        <p class="mt-1 text-sm text-red-600">{{ form.first_name.errors.0 }}</p>
                    {% endif %}
                </div>

                <div>
                    <label for="{{ form.last_name.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                        Last Name *
                    </label>
                    {{ form.last_name }}
                    {% if form.last_name.errors %}
                        <p class="mt-1 text-sm text-red-600">{{ form.last_name.errors.0 }}</p>
                    {% endif %}
                </div>
            </div>

            <div>
                <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    Email Address *
                </label>
                {{ form.email }}
                {% if form.email.errors %}
                    <p class="mt-1 text-sm text-red-600">{{ form.email.errors.0 }}</p>
                {% endif %}
            </div>

            <div>
                <label for="{{ form.department.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
                    Department
                </label>
                {{ form.department }}
                {% if form.department.errors %}
                    <p class="mt-1 text-sm text-red-600">{{ form.department.errors.0 }}</p>
                {% endif %}
            </div>

            <!-- Form Errors -->
            {% if form.non_field_errors %}
                <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg">
                    {% for error in form.non_field_errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}

            <!-- Submit Buttons -->
            <div class="flex space-x-4 pt-6">
                <button type="submit" class="flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 px-6 rounded-xl font-semibold hover:from-blue-600 hover:to-blue-700 transition duration-200 hover-scale">
                    <svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                    Register Student
                </button>
                <a href="{% url 'admin_dashboard' %}" class="bg-gray-100 text-gray-700 py-3 px-6 rounded-xl font-semibold hover:bg-gray-200 transition duration-200">
                    Cancel
                </a>
            </div>
        </form>
    </div>

    <!-- Information Card -->
    <div class="bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-2xl p-6 mt-8">
        <div class="flex items-start">
            <div class="text-2xl mr-4">ðŸ’¡</div>
            <div>
                <h3 class="text-lg font-semibold text-gray-800 mb-2">What happens next?</h3>
                <ul class="text-gray-600 space-y-2">
                    <li class="flex items-center">
                        <span class="w-2 h-2 bg-yellow-500 rounded-full mr-3"></span>
                        A unique QR code and image will be automatically generated
                    </li>
                    <li class="flex items-center">
                        <span class="w-2 h-2 bg-yellow-500 rounded-full mr-3"></span>
                        The student can use this QR code to check in/out
                    </li>
                    <li class="flex items-center">
                        <span class="w-2 h-2 bg-yellow-500 rounded-full mr-3"></span>
                        You can view and manage all students from the dashboard
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<style>
    .form-input {
        @apply w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200;
    }
</style>
{% endblock %}
